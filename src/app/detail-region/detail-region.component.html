<div class="contenuPrincipal">
    <div class="petitMenu">
        <!-- <div class="ajouterR">
            <div><i class="fa fa-plus" aria-hidden="true"></i></div>
            <div>Region</div>
        </div> -->
        <div class="recherches">
            <div class="inputRecherche">
                <input id="searchMobile" type="text">
            </div>
            <div class="searchIcon">
                <i class="fa fa-search" aria-hidden="true"></i>
            </div>
            
        </div>
    </div>
    
    <div class="contenuDetailR">
        <div class="detailRegions">
            <div class="detailRegion1">
              <img src="/assets/images/{{detailsRegions.photoaregion}}">
            </div>
            <div  class="detailRegion2">
                <p class="texte">
                    <!-- Mopti est une ville et une commune urbaine de la région du delta 
                    intérieur du Niger au Mali. La ville est la capitale du Cercle de 
                    Mopti et de la Région de Mopti. -->
                    {{detailsRegions.description}}
                </p>
            </div>
        </div>
    
        <!-- [ngClass]="{'connect': *ngIf=currentUser1.username != null}" -->

        <!-- [ngClass]="{'connect': currentUser1.username == null}" -->

        <div class="detailRegionsDr" [ngClass]="{'connect': !isLoggedIn}">
            <div class="detailRegion1Dr">
               <div class="caractRegion">
                    <p class="libCaract">Nom: </p>
                    <!-- <p>Mopti: </p> -->
                    {{detailsRegions.nom}}
               </div>
               <div class="caractRegion">
                    <p class="libCaract">Nombre d’habitants: </p>
                    <p>10 5140 hbts</p>
               </div>
               <div class="caractRegion">
                    <p class="libCaract">Code region</p>
                    <!-- <p>10 5140 hbts</p> -->
                    {{detailsRegions.code_region}}
               </div>
               <!-- <div class="caractRegion">
                    <p class="libCaract">Nombre d’habitants: </p>
                    {{detailsRegions.code_region}}
               </div> -->
               <div class="caractRegion"> 
                    <p class="libCaract">Domaine activité: </p>
                    <!-- <p>10 5140 hbts</p> -->
                    {{detailsRegions.domaine_activite}}
               </div>
               <div class="caractRegion">
                    <p class="libCaract">Superficie:  </p>
                    <!-- <p>142 100 Km²</p> -->
                    {{detailsRegions.superficie}}
               </div>
               <div class="caractRegion">
                    <p class="libCaract">Langues majoritaire: </p>
                    <!-- <p>Bambara</p> -->
                    {{detailsRegions.langue_majoritaire}}
               </div>
               <div class="caractRegion">
                    <button *ngIf="admin" data-toggle="modal" data-target="#exampleModal" data-whatever="@mdo">Modifier</button>
                    <button *ngIf="admin" data-toggle="modal" data-target="#attention">Supprimer</button>
               </div>
            </div>
            <div class="detailRegion2Dr">
              <img src="/assets/images/{{detailsRegions.photoaregion}}">
            </div>
        </div>
            <div class="ajoutCommentaire">
                <!-- <div class="photoProfil">
                    <i style="color: white; font-size: 40px;" class="fa fa-user" aria-hidden="true"></i>
                </div> -->
                
            </div>
            <!-- currentUser1.username != null -->
        <div  class="commentaires">
           
              <form style="width: 100%;" [formGroup]="formCommentaire" action="" enctype="multipart/form-data">
                <div class="formCommentaire">
                <textarea name="" id="" cols="30" rows="10" placeholder="Ajouter un commentaire" formControlName="contenu"></textarea>
              </div>
              </form>
            
            <div class="actionsCommentaires">
                <button (click)=" annulerCommentaire()">Annuler</button>
                <button (click)="submitCommentaire()">Ajouter un commentaire</button>
            </div>
            <div class="mesCommentaires" *ngFor="let comm of commentaires ; index as i ">
                <div class="photoProfil">
                    <i style="color: black; font-size: 40px;" class="fa fa-user" aria-hidden="true"></i>
                </div>
                <div class="uncommentaire">
                    <div>
                        <p style="text-align: center;">{{comm.auteur.username}}(il ya 1 jour)</p>
                    </div>
                    <div>
                        <p>
                            {{comm.contenu}}
                        </p>
                    </div>
                </div>
    
            </div>
    
            <!-- <div class="mesCommentaires">
                <div class="photoProfil">
                    <i style="color: black; font-size: 40px;" class="fa fa-user" aria-hidden="true"></i>
                </div>
                <div class="uncommentaire">
                    <div>
                        <p style="text-align: center;">Adama Coulibaly (il ya 1 jour)</p>
                    </div>
                    <div>
                        <p>
                            Mopti est une ville et une commune urbaine 
                            de la région du delta intérieur du Niger au Mali.
                        </p>
                    </div>
                </div>
    
            </div> -->
    
        </div>
    </div>

    
<ng-template #loggedOut>
  Please login.
</ng-template>
    
    
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Modifier une region</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <form [formGroup]="formRegionU" action="" enctype="multipart/form-data">
                <div class="form-group">
                  <label for="recipient-name" class="col-form-label">Nom:</label>
                  <input type="text" class="form-control myInput" id="recipient-name" [(ngModel)]="detailsRegions.nom" value="{{detailsRegions.nom}}" formControlName="nomRegion">
                </div>
      
                <div class="form-group">
                  <label for="recipient-name" class="col-form-label">Code region:</label>
                  <input type="text" class="form-control myInput" id="recipient-name"  [(ngModel)]="detailsRegions.code_region" value="{{detailsRegions.code_region}}" formControlName="code_region">
                </div>
      
                <div class="form-group">
                  <label for="recipient-name" class="col-form-label">Domaine activité:</label>
                  <input type="text" class="form-control myInput" id="recipient-name"  [(ngModel)]="detailsRegions.domaine_activite" value="{{detailsRegions.domaine_activite}}" formControlName="domaineAct">
                </div>
      
                <div class="form-group">
                  <label for="recipient-name" class="col-form-label">Superficie:</label>
                  <input type="text" class="form-control myInput" id="recipient-name"  [(ngModel)]="detailsRegions.superficie" value="{{detailsRegions.superficie}}" formControlName="superficie">
                </div>
      
                <div class="form-group">
                  <label for="recipient-name" class="col-form-labelt">Images:</label>
                 <input type="file"  id="files" name="files" multiple class="form-control myInput" (change)="onFileChangeRegion($event)"  formControlName="file" >    <!--id="recipient-name" -->
                </div>

                <div class="form-group">
                  <label for="recipient-name" class="col-form-labelt">Langue majoritaire:</label>
                 <input type="text"  id="files" name="files" multiple class="form-control myInput"  [(ngModel)]="detailsRegions.langue_majoritaire" value="{{detailsRegions.langue_majoritaire}}" formControlName="langue_majoritaire">    <!--id="recipient-name" -->
                </div>
      
                <div class="form-group">
                  <label for="message-text" class="col-form-label">Description</label>
                  <textarea class="form-control myInput" id="message-text"  [(ngModel)]="detailsRegions.description" value="{{detailsRegions.description}}" formControlName="description"></textarea>
                </div>
      
              </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-danger" data-dismiss="modal">Annuler</button>
              <button type="button" class="btn btn-success" (click)="updateRegion()">Envoyer</button>
            </div>
          </div>
        </div>
      </div>
    
    
    
    
    
      <!-- Button trigger modal -->
    <!-- <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#attention">
        Launch demo modal
      </button> -->
      
      <!-- Modal -->
      <div class="modal fade" id="attention" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Attention !</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
             Cette region sera Supprimer !
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-danger" data-dismiss="modal">Fermer</button>
              <button type="button" class="btn btn-success" data-dismiss="modal" (click)="supprimerRions()">Valider</button>
            </div>
          </div>
        </div>
      </div>



      
</div>
